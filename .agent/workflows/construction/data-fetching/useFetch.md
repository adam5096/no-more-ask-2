---
description: $fetch, useAsyncData, useFetch ä½¿ç”¨æ±ºç­–æ¨¹
---

# Nuxt 3 Data Fetching æ±ºç­–æŒ‡å—

æœ¬æ–‡ä»¶æä¾› Nuxt 3 è³‡æ–™ç²å– API çš„é¸æ“‡æ±ºç­–æ¨¹èˆ‡æœ€ä½³å¯¦è¸ï¼Œå”åŠ©é–‹ç™¼è€…åœ¨ä¸åŒå ´æ™¯ä¸‹é¸æ“‡æ­£ç¢ºçš„ APIã€‚

---

## ğŸ“‹ å‰ç½®ä¾è³´ (Prerequisites)

**ä½•æ™‚åƒè€ƒæ­¤æ–‡ä»¶**ï¼š
- åœ¨ `/development-workflow` çš„ **Step 2 (SDD)** éšæ®µï¼Œé€²è¡ŒæŠ€è¡“é¸å‹æ™‚
- å¯¦ä½œæ¶‰åŠè³‡æ–™ç²å–çš„ Composable æˆ– Page æ™‚
- Code Review ç™¼ç¾è³‡æ–™ç²å–æ–¹å¼ä¸ç•¶æ™‚

**å‰ç½®çŸ¥è­˜**ï¼š
- ç†è§£ Nuxt 3 çš„ SSR (Server-Side Rendering) æ©Ÿåˆ¶
- ç†Ÿæ‚‰ Vue 3 Composition API çš„ `ref` èˆ‡ `computed`

---

## ğŸ¯ ä½¿ç”¨æ™‚æ©Ÿ (When to Use)

### æƒ…å¢ƒ 1ï¼šé é¢åˆå§‹åŒ–éœ€è¦è³‡æ–™
â†’ **ä½¿ç”¨ `useFetch`**

### æƒ…å¢ƒ 2ï¼šéœ€è¦ä¸¦è¡Œå¤šå€‹è«‹æ±‚æˆ–ä½¿ç”¨ç¬¬ä¸‰æ–¹ SDK
â†’ **ä½¿ç”¨ `useAsyncData`**

### æƒ…å¢ƒ 3ï¼šä½¿ç”¨è€…äº’å‹•è§¸ç™¼çš„è«‹æ±‚ï¼ˆå¦‚è¡¨å–®æäº¤ã€æŒ‰éˆ•é»æ“Šï¼‰
â†’ **ä½¿ç”¨ `$fetch`**

---

## ğŸ“– æ ¸å¿ƒæ¦‚å¿µ (Core Concepts)

### ç‚ºä»€éº¼éœ€è¦ useFetch/useAsyncDataï¼Ÿ

Nuxt æ˜¯é€šç”¨æ¡†æ¶ï¼ˆUniversal/Isomorphicï¼‰ï¼Œè‹¥åªç”¨åŸç”Ÿ `fetch` æˆ– `$fetch` åœ¨çµ„ä»¶ setup éšæ®µç²å–è³‡æ–™ï¼Œæœƒå°è‡´ï¼š
- âŒ SSR èˆ‡å®¢æˆ¶ç«¯è£œæ°´æ™‚**é‡è¤‡ç™¼é€è«‹æ±‚**
- âŒ ç„¡æ³•åˆ©ç”¨ Nuxt çš„ **payload å‚³éæ©Ÿåˆ¶**

âœ… `useFetch` å’Œ `useAsyncData` å°‡ä¼ºæœå™¨ç«¯è³‡æ–™é€é payload å‚³éçµ¦å®¢æˆ¶ç«¯ï¼Œé¿å…é‡è¤‡è«‹æ±‚ã€‚

### ä¸‰è€…çš„éšå±¤é—œä¿‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  useFetch (æœ€é«˜å±¤èªæ³•ç³–)            â”‚
â”‚  - è‡ªå‹•ç”Ÿæˆ Key                     â”‚
â”‚  - è‡ªå‹•ç›£è½éŸ¿æ‡‰å¼åƒæ•¸               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  useAsyncData (ä¸­é–“å±¤ Composable)   â”‚
â”‚  - ç‹€æ…‹ç®¡ç† (data, pending, error)  â”‚
â”‚  - å¿«å–æ§åˆ¶                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  $fetch (åº•å±¤ HTTP å®¢æˆ¶ç«¯)          â”‚
â”‚  - åŸºæ–¼ ofetch                      â”‚
â”‚  - ç„¡ç‹€æ…‹ç®¡ç†                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ API ä½¿ç”¨æŒ‡å—

### 1. useFetch

**é©ç”¨ç¯„åœ**ï¼š
- âœ… é é¢åˆå§‹åŒ–è³‡æ–™ï¼ˆSSR å‹å–„ï¼‰
- âœ… URL/åƒæ•¸ä¾è³´éŸ¿æ‡‰å¼è®Šæ•¸ï¼ˆè‡ªå‹•ç›£è½ï¼‰
- âœ… ç°¡å–®çš„ API å‘¼å«

**ä½¿ç”¨ç¯„ä¾‹**ï¼š
```typescript
// è‡ªå‹•ç›£è½ id è®ŠåŒ–ä¸¦é‡æ–° fetch
const { data, status } = await useFetch(() => `/api/users/${id.value}`)
```

**é‡è¦é™åˆ¶**ï¼š
- âŒ **ç¦æ­¢åœ¨äº‹ä»¶è™•ç†å™¨å…§ä½¿ç”¨**ï¼ˆå¦‚ `onClick`, `onSubmit`ï¼‰
- âš ï¸ åƒæ•¸æœƒè‡ªå‹•è§£åŒ…ï¼ˆ`.value`ï¼‰ï¼Œä¸éœ€æ‰‹å‹•è™•ç†
- âš ï¸ é è¨­ä½¿ç”¨ URL ä½œç‚ºå¿«å– Keyï¼Œå¤šçµ„ä»¶å…±ç”¨éœ€æ‰‹å‹•æŒ‡å®š `key`

---

### 2. useAsyncData

**é©ç”¨ç¯„åœ**ï¼š
- âœ… ä½¿ç”¨ç¬¬ä¸‰æ–¹ SDKï¼ˆCMSã€GraphQLï¼‰
- âœ… ä¸¦è¡Œè«‹æ±‚ï¼ˆ`Promise.all`ï¼‰
- âœ… éœ€è¦å®Œå…¨æ§åˆ¶å¿«å– Key æˆ–ç›£è½è¡Œç‚º

**ä½¿ç”¨ç¯„ä¾‹**ï¼š
```typescript
// ä¸¦è¡Œè«‹æ±‚
const { data } = await useAsyncData('unique-key', async () => {
  const [res1, res2] = await Promise.all([
    $fetch('/api/one'),
    $fetch('/api/two')
  ])
  return { res1, res2 }
})
```

**é‡è¦é™åˆ¶**ï¼š
- âš ï¸ **å¿…é ˆæ‰‹å‹•æŒ‡å®š Key**ï¼ˆé¿å…æª”å/è¡Œè™Ÿè®Šå‹•å°è‡´å¿«å–å•é¡Œï¼‰
- âš ï¸ **ç„¡è‡ªå‹•éŸ¿æ‡‰å¼ç›£è½**ï¼Œéœ€é¡¯å¼ä½¿ç”¨ `watch` é¸é …
- âš ï¸ Handler å…§éƒ¨å¿…é ˆæ‰‹å‹•è§£åŒ… Refï¼ˆ`.value`ï¼‰

---

### 3. $fetch

**é©ç”¨ç¯„åœ**ï¼š
- âœ… å®¢æˆ¶ç«¯äº’å‹•ï¼ˆPOSTã€DELETEã€ç™»å…¥ï¼‰
- âœ… äº‹ä»¶è™•ç†å™¨å…§çš„è«‹æ±‚
- âœ… ä¸éœ€è¦ SSR çš„è«‹æ±‚

**ä½¿ç”¨ç¯„ä¾‹**ï¼š
```typescript
// è¡¨å–®æäº¤
async function handleSubmit() {
  await $fetch('/api/login', {
    method: 'POST',
    body: { email, password }
  })
}
```

---

## âš ï¸ å¸¸è¦‹éŒ¯èª¤ (Common Pitfalls)

### âŒ è‡´å‘½éŒ¯èª¤ï¼šåœ¨äº‹ä»¶è™•ç†å™¨ä¸­ä½¿ç”¨ useFetch

```typescript
// âŒ éŒ¯èª¤ç¤ºç¯„
function handleClick() {
  const { data } = await useFetch('/api/data') // æœƒé€ æˆè¨˜æ†¶é«”æ´©æ¼ï¼
}

// âœ… æ­£ç¢ºåšæ³•
function handleClick() {
  const data = await $fetch('/api/data')
}
```

**åŸå› **ï¼š`useFetch` æ˜¯ Composableï¼Œè¨­è¨ˆç”¨æ–¼ `setup` é ‚å±¤ã€‚åœ¨äº‹ä»¶ä¸­å‘¼å«æœƒï¼š
- æ¯æ¬¡è§¸ç™¼éƒ½å»ºç«‹æ–°å¯¦ä¾‹
- ç„¡æ³•è¢«æ­£ç¢ºå›æ”¶
- å¯èƒ½é€ æˆç„¡é™è¿´åœˆæˆ–å¤§é‡é‡è¤‡è«‹æ±‚

---

## ğŸ”„ èˆ‡å…¶ä»– Workflow çš„æ¥åŠ›

### ä¸Šæ¸¸ä¾è³´
- `/development-workflow` Step 2 (SDD) - æŠ€è¡“é¸å‹éšæ®µ

### ä¸‹æ¸¸æ¥åŠ›
- `/code-review-checklist` - Code Review æ™‚é©—è­‰è³‡æ–™ç²å–æ–¹å¼
- å¯¦ä½œ Composable æˆ– Page æ™‚åƒè€ƒæ­¤æ±ºç­–æ¨¹

---

## ğŸ“š åƒè€ƒè³‡æº

**å®˜æ–¹æ–‡ä»¶**ï¼š
- [useFetch](https://nuxt.com/docs/3.x/api/composables/use-fetch)
- [useAsyncData](https://nuxt.com/docs/3.x/api/composables/use-async-data)
- [Data Fetching](https://nuxt.com/docs/3.x/getting-started/data-fetching#fetch)

**æŠ€è¡“è§£æå½±ç‰‡**ï¼š
- [Alexander Lichter - useFetch vs useAsyncData](https://www.youtube.com/watch?v=njsGVmcWviY)
- [Common Nuxt 3 Mistakes](https://www.youtube.com/watch?v=OjMkGenTerM)

---

**æ–‡æª”ç‰ˆæœ¬**ï¼šv2.0  
**æœ€å¾Œæ›´æ–°**ï¼š2026-02-03  
**ç¶­è­·è€…**ï¼šAI + Developer